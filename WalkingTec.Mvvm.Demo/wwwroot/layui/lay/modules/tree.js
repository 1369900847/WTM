/** layui-v2.2.45 MIT License By http://www.layui.com */
 ;layui.define("jquery",function(e){"use strict";var i=layui.$,a=layui.hint(),o="layui-tree-enter",r=function(e){this.config=i.extend(this.config,{nameField:e.nameField,childrenField:e.childrenField,spreadField:e.spreadField}),this.options=e},n={arrow:["&#xe623;","&#xe625;"],checkbox:["&#xe626;","&#xe627;"],radio:["&#xe62b;","&#xe62a;"],branch:["&#xe622;","&#xe624;"],leaf:"&#xe621;"};r.prototype.init=function(e){var i=this;e.addClass("layui-box layui-tree"),i.options.skin&&e.addClass("layui-tree-skin-"+i.options.skin),i.tree(e),i.on(e)},r.prototype.config={nameField:"name",childrenField:"children",spreadField:"spread"},r.prototype.tree=function(e,a){var o=this,r=o.options,t=o.config,l=a||r.nodes;layui.each(l,function(a,l){var c=l[t.childrenField]&&l[t.childrenField].length>0,d=i('<ul class="'+(l[t.spreadField]?"layui-show":"")+'"></ul>'),s=i(["<li "+(l[t.spreadField]?'data-spread="'+l[t.spreadField]+'"':"")+">",function(){return c?'<i class="layui-icon layui-tree-spread">'+(l[t.spreadField]?n.arrow[1]:n.arrow[0])+"</i>":""}(),function(){return r.check?'<i class="layui-icon layui-tree-check">'+("checkbox"===r.check?n.checkbox[0]:"radio"===r.check?n.radio[0]:"")+"</i>":""}(),function(){return'<a href="'+(l.href||"javascript:;")+'" '+(r.target&&l.href?'target="'+r.target+'"':"")+">"+('<i class="layui-icon layui-tree-'+(c?"branch":"leaf")+'">'+(c?l[t.spreadField]?n.branch[1]:n.branch[0]:n.leaf)+"</i>")+("<cite>"+(l[t.nameField]||"未命名")+"</cite></a>")}(),"</li>"].join(""));c&&(s.append(d),o.tree(d,l[t.childrenField])),e.append(s),"function"==typeof r.click&&o.click(s,l),o.spread(s,l),r.drag&&o.drag(s,l)})},r.prototype.click=function(e,i){var a=this,o=a.options;e.children("a").on("click",function(e){layui.stope(e),o.click(i)})},r.prototype.spread=function(e,i){var a=this,o=(a.options,e.children(".layui-tree-spread")),r=e.children("ul"),t=e.children("a"),l=function(){e.data("spread")?(e.data("spread",null),r.removeClass("layui-show"),o.html(n.arrow[0]),t.find(".layui-icon").html(n.branch[0])):(e.data("spread",!0),r.addClass("layui-show"),o.html(n.arrow[1]),t.find(".layui-icon").html(n.branch[1]))};r[0]&&(o.on("click",l),t.on("dblclick",l))},r.prototype.on=function(e){var a=this,r=a.options,n="layui-tree-drag";e.find("i").on("selectstart",function(e){return!1}),r.drag&&i(document).on("mousemove",function(e){var o=a.move;if(o.from){var r=(o.to,i('<div class="layui-box '+n+'"></div>'));e.preventDefault(),i("."+n)[0]||i("body").append(r);var t=i("."+n)[0]?i("."+n):r;t.addClass("layui-show").html(o.from.elem.children("a").html()),t.css({left:e.pageX+10,top:e.pageY+10})}}).on("mouseup",function(){var e=a.move;e.from&&(e.from.elem.children("a").removeClass(o),e.to&&e.to.elem.children("a").removeClass(o),a.move={},i("."+n).remove())})},r.prototype.move={},r.prototype.drag=function(e,a){var r=this,n=(r.options,e.children("a")),t=function(){var n=i(this),t=r.move;t.from&&(t.to={item:a,elem:e},n.addClass(o))};n.on("mousedown",function(){var i=r.move;i.from={item:a,elem:e}}),n.on("mouseenter",t).on("mousemove",t).on("mouseleave",function(){var e=i(this),a=r.move;a.from&&(delete a.to,e.removeClass(o))})},e("tree",function(e){var o=new r(e=e||{}),n=i(e.elem);return n[0]?void o.init(n):a.error("layui.tree 没有找到"+e.elem+"元素")})});